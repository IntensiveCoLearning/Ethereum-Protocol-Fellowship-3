---
timezone: UTC+8
---

# k66

1. è‡ªæˆ‘ä»‹ç»: Hiæˆ‘æ˜¯k66
2. ä½ è®¤ä¸ºä½ ä¼šå®Œæˆæœ¬æ¬¡æ®‹é…·å­¦ä¹ å—ï¼Ÿ   æœƒ
3. ä½ çš„è”ç³»æ–¹å¼ï¼ˆæ¨è Telegramï¼‰k66

## Notes

<!-- Content_START -->

### 2025.03.10

+ Consensuså’ŒGasper
  - è¡Œå‰å»ºè­°ç†Ÿè®€day2å’Œday6çš„CL(å…±è­˜å±¤)
  - [2020å¹´è«–æ–‡ï¼ŒCombining GHOST and Casper](https://arxiv.org/pdf/2003.03052)
    * æ‘˜è¦: GASPERæ˜¯PoSå…±è­˜å”è­°(proof-of-stake-based consensus protocol)
      + çµåˆCasper FEG(çµ‚çµè£ç½®: ç¢ºä¿æŸäº›å€å¡Šä¸å¯é€†è½‰)+LMD GHOST(åˆ†å‰è¦å‰‡: å¹«åŠ©ç¯€é»åœ¨å­˜åœ¨åˆ†å‰æƒ…æ³ä¸‹é¸æ“‡æ­£ç¢ºçš„å€å¡Šéˆè·¯å¾‘)
      + ç›®æ¨™ï¼šå…±è­˜å”è­°ï¼Œæœ‰ä¸€å®šçš„å®‰å…¨æ€§å’Œå¯ç”¨æ€§(certain safety and liveness claims)
    * ä»‹ç´¹:
      + Casper FFGï¼ˆFriendly Finality Gadgetï¼‰
        - é€™éƒ¨åˆ†è² è²¬ç‚ºå€å¡Šéˆä¸­çš„æŸäº›å€å¡Šæä¾›æœ€çµ‚æ€§ï¼Œè®“å³ä½¿åœ¨è³‡è¨Šä¸å®Œå…¨çš„æƒ…æ³ä¸‹ï¼Œåƒèˆ‡è€…ä¹Ÿèƒ½ç¢ºä¿¡é€™äº›å€å¡Šæ˜¯æ­£çµ±éˆçš„ä¸€éƒ¨åˆ†ã€‚Casper FFGæœ¬èº«ä¸¦éå®Œæ•´çš„å…±è­˜å”è­°ï¼Œè€Œæ˜¯ä¸€å€‹å¯ä»¥æ­é…å…¶ä»–å€å¡Šéˆå”è­°ä½¿ç”¨çš„â€œçµ‚çµè£ç½®â€ã€‚
      + LMD GHOSTï¼ˆLatest Message Driven Greediest Heaviest Observed SubTreeï¼‰
        - é€™æ˜¯ä¸€ç¨®åˆ†å‰é¸æ“‡è¦å‰‡ï¼Œé€éé©—è­‰è€…å°å€å¡Šçš„æŠ•ç¥¨ï¼ˆæˆ–ç¨± attestationsï¼‰ä¾†æ±ºå®šå“ªæ¢åˆ†å‰æ‡‰è¢«é¸ç‚ºæ­£çµ±éˆï¼Œé¡ä¼¼æ–¼æŠ•ç¥¨æ©Ÿåˆ¶ã€‚
      + ç›®æ¨™èˆ‡æ¶æ§‹
        - è«–æ–‡çš„ç›®æ¨™æ˜¯å¾ç†è«–ä¸Šè­‰æ˜Gasperåœ¨å®‰å…¨æ€§ã€åˆç†æ´»æ€§ï¼ˆå³ä½¿åœ¨æƒ¡åŠ£æ¢ä»¶ä¸‹ä»èƒ½é”æˆå…±è­˜ï¼‰ä»¥åŠæ¦‚ç‡æ´»æ€§ï¼ˆåœ¨æ¦‚ç‡æ¨¡å‹ä¸‹æ–°å€å¡Šèƒ½å¤ è¢«å¿«é€Ÿæœ€çµ‚åŒ–ï¼‰çš„æ€§è³ªã€‚å¾ŒçºŒç« ç¯€ä¸­ï¼Œä½œè€…å°‡é¦–å…ˆå®šç¾©åŸºæœ¬åŸèªèˆ‡èƒŒæ™¯çŸ¥è­˜ï¼ˆç¬¬2èˆ‡ç¬¬3ç¯€ï¼‰ï¼Œç„¶å¾Œè©³ç´°æè¿°Gasperå”è­°çš„å…·é«”è¨­è¨ˆï¼ˆç¬¬4ç¯€ï¼‰ï¼Œä¸¦åœ¨ç¬¬5è‡³ç¬¬7ç¯€ä¸­çµ¦å‡ºå½¢å¼åŒ–çš„è­‰æ˜ï¼Œæœ€å¾Œåœ¨ç¬¬8ç¯€ä¸­æ¯”è¼ƒGasperèˆ‡ä»¥å¤ªåŠå¯¦éš›å¯¦ç¾ä¸­çš„ä¸€äº›å·®ç•°ï¼ˆä¾‹å¦‚å»¶é²æ¥æ”¶ attestationsã€å»¶å¾Œå€å¡Šæœ€çµ‚åŒ–ã€ä»¥åŠå‹•æ…‹é©—è­‰è€…é›†åˆç­‰ï¼‰ï¼Œæœ€å¾Œåœ¨ç¬¬9ç¯€ä¸­æå‡ºå°æœªä¾†ç ”ç©¶çš„å±•æœ›ã€‚
  * è¨­å®šèˆ‡ç›®æ¨™
    + è­˜å”è­°èˆ‡é©—è­‰è€…ï¼ˆValidatorsï¼‰çš„åŸºæœ¬æ¦‚å¿µ
      - å”è­°è¢«å®šç¾©ç‚ºä¸€çµ„æ¼”ç®—æ³•ï¼Œä¾›åƒèˆ‡è€…ï¼ˆæˆ–ç¨±é©—è­‰è€…ï¼‰éµå¾ªï¼Œä»¥åœ¨ä¸å¯é çš„ç¶²çµ¡ç’°å¢ƒå’Œå¯èƒ½å­˜åœ¨æƒ¡æ„ç¯€é»çš„æƒ…æ³ä¸‹é”æˆä¸€è‡´çš„ç‹€æ…‹æ­·å²ã€‚
      - é©—è­‰è€…æ˜¯åƒèˆ‡å…±è­˜éç¨‹çš„ä¸»é«”ï¼Œä»–å€‘å½¼æ­¤é€šéé»å°é»ç¶²çµ¡é€²è¡Œé€šä¿¡ï¼Œç™¼é€å„ç¨®æ¶ˆæ¯ï¼ˆä¾‹å¦‚å€å¡Šã€æŠ•ç¥¨/attestationsç­‰ï¼‰ã€‚ 
    +  å€å¡Šéˆçš„çµæ§‹èˆ‡æ¶ˆæ¯å‚³æ’­
      - å€å¡Šéˆè¢«è¦–ç‚ºä¸€æ£µä»¥å‰µä¸–å€å¡Šï¼ˆgenesis blockï¼‰ç‚ºæ ¹çš„æ¨¹å½¢çµæ§‹ï¼Œæ¯å€‹å€å¡Šéƒ½åŒ…å«ä¸€å€‹æŒ‡å‘çˆ¶å€å¡Šçš„å¼•ç”¨ã€‚
      - ç•¶ç¶²çµ¡ä¸­å‡ºç¾è¡çªæ™‚ï¼ˆä¾‹å¦‚å…©å€‹å€å¡Šå½¼æ­¤äº’æ–¥ï¼‰ï¼Œå…±è­˜è¦å‰‡éœ€è¦é¸å‡ºä¸€æ¢æœ€çµ‚è¢«æ¥å—çš„éˆã€‚
      - ç‚ºäº†æè¿°é€™å€‹éç¨‹ï¼Œä½œè€…å¼•å…¥äº†ã€Œviewã€çš„æ¦‚å¿µï¼šå°æ–¼ä»»ä½•é©—è­‰è€…ğ‘‰åœ¨æŸå€‹æ™‚é–“ ğ‘‡ æ‰€è¦‹çš„æ‰€æœ‰è¢«æ¥å—æ¶ˆæ¯çš„é›†åˆï¼Œé€™å°±æ˜¯ ğ‘‰ çš„ viewï¼Œè€Œç¶²çµ¡ view å‰‡æ˜¯æ‰€æœ‰é©—è­‰è€…æ‰€è¦‹æ¶ˆæ¯çš„ç¶œåˆã€‚
    + ä¾è³´æ€§èˆ‡æ¶ˆæ¯çš„æ¥æ”¶
      - æ¯å€‹æ¶ˆæ¯å¯èƒ½ä¾è³´æ–¼å…¶ä»–æ¶ˆæ¯ï¼Œé€™ç¨®ä¾è³´é—œä¿‚ä¿è­‰äº†é©—è­‰è€…åœ¨æ¥æ”¶åˆ°æŸå€‹æ¶ˆæ¯ä¹‹å‰ï¼Œå¿…é ˆå…ˆæ¥æ”¶åˆ°æ‰€æœ‰ç›¸é—œä¾è³´æ¶ˆæ¯ã€‚
      - å€å¡Šåªæœ‰åœ¨å…¶æ‰€æœ‰ä¾è³´ï¼ˆä¾‹å¦‚çˆ¶å€å¡Šï¼‰éƒ½è¢«æ¥å—å¾Œæ‰è¢«èªç‚ºæ˜¯æœ‰æ•ˆçš„ã€‚
        ![image](https://github.com/user-attachments/assets/3f1b4e01-7aa0-44eb-b6f9-4c3109baec8a)

    + æ¬Šç›Šè­‰æ˜ï¼ˆProof-of-Stakeï¼‰æ¨¡å‹
      - æ¯å€‹é©—è­‰è€…éƒ½æœ‰ä¸€å€‹èˆ‡å…¶æŒæœ‰çš„æŠµæŠ¼è³‡ç”¢ï¼ˆstakeï¼‰æˆæ­£æ¯”çš„æ¬Šé‡ï¼Œé€™å½±éŸ¿äº†ä»–å€‘åœ¨å…±è­˜ä¸­çš„æŠ•ç¥¨æ¬Šé‡ã€‚
      - ç›¸å°æ–¼å‚³çµ±çš„å·¥ä½œé‡è­‰æ˜ï¼ˆProof-of-Workï¼‰ï¼Œåœ¨æ¬Šç›Šè­‰æ˜ä¸­å€å¡Šç”¢ç”Ÿæˆæœ¬è¼ƒä½ï¼Œä½†éœ€è¦é¡å¤–çš„æ©Ÿåˆ¶ï¼ˆå¦‚æŠ•ç¥¨æˆ– attestationsï¼‰ä¾†é˜²æ­¢å‡ºç¾æƒ¡æ„è¡Œç‚ºï¼ˆä¾‹å¦‚é›™é‡èŠ±è²»ï¼‰ã€‚
      - canonical chain: æ­£çµ±éˆï¼Œä¹Ÿå°±æ˜¯åœ¨æ‰€æœ‰å¯èƒ½çš„å€å¡Šéˆåˆ†å‰ä¸­ï¼Œé€éåˆ†å‰é¸æ“‡è¦å‰‡é¸å‡ºä¾†ï¼Œè¢«å¤§å®¶èªå®šç‚ºæ­£å¼æ­·å²çš„é‚£æ¢éˆã€‚é€™æ¢éˆå¾å‰µä¸–å€å¡Šé–‹å§‹å»¶ä¼¸åˆ°ç•¶å‰è¢«èªå¯çš„è‘‰å­å€å¡Šï¼Œä»£è¡¨äº†ç³»çµ±ä¸­ä¸€è‡´èªå¯çš„ç‹€æ…‹è½‰æ›æ­·å²ã€‚
        ![image](https://github.com/user-attachments/assets/4237f1f0-657c-4af2-a297-277d3eb39758)

    + æ‹œå åº­å®¹éŒ¯èˆ‡å®‰å…¨æ€§ç›®æ¨™
      - æ–‡ä¸­å‡è¨­åœ¨ç³»çµ±ä¸­ï¼Œæ‹œå åº­ï¼ˆByzantineï¼‰è¡Œç‚ºçš„é©—è­‰è€…æ•¸é‡ä¸è¶…éç¸½æ•¸çš„ 1/3 ï¼ˆé€™å€‹å‡è¨­æºè‡ª PBFT çš„ç†è«–ï¼‰ã€‚
      - å®‰å…¨æ€§ï¼šè¦æ±‚ä»»ä½•å·²ç¶“æœ€çµ‚åŒ–çš„å€å¡Šï¼ˆfinalized blockï¼‰éƒ½ä¸æœƒèˆ‡å…¶ä»–å€å¡Šè¡çªï¼›ä¹Ÿå°±æ˜¯èªªï¼Œæ‰€æœ‰æœ€çµ‚åŒ–å€å¡Šæ‡‰å½¢æˆä¸€æ¢å”¯ä¸€ä¸”ä¸€è‡´çš„éˆã€‚
      - æ´»æ€§ï¼ˆLivenessï¼‰ï¼šä¿è­‰å€å¡Šéˆèƒ½å¤ æŒçºŒå‘å‰ç™¼å±•ï¼Œä¸æœƒå› ç‚ºæŸäº›åŸå› è€Œé™·å…¥æ­»é–ã€‚é€™è£¡åˆç´°åˆ†ç‚ºï¼š
        *  åˆç†æ´»æ€§ï¼ˆplausible livenessï¼‰ï¼šåœ¨ä»»ä½•æƒ…æ³ä¸‹ï¼Œåªè¦æœ‰è¶³å¤ æ•¸é‡çš„èª å¯¦é©—è­‰è€…å­˜åœ¨ï¼Œå°±ç¸½èƒ½å¤ æ¨é€²å€å¡Šéˆã€‚
        *  æ¦‚ç‡æ´»æ€§ï¼ˆprobabilistic livenessï¼‰ï¼šåœ¨æ¦‚ç‡æ¨¡å‹ä¸‹ï¼Œæ–°å€å¡Šæœ€çµ‚åŒ–çš„éç¨‹å…·æœ‰é«˜æ¦‚ç‡æ€§ï¼Œéš¨è‘—æ™‚é–“æ¨ç§»ï¼Œæœ€çµ‚åŒ–æˆåŠŸçš„å¯èƒ½æ€§é€æ¼¸æé«˜ã€‚
    + æ™‚é–“ã€æ™‚éš™èˆ‡æ™‚ä»£ï¼ˆEpochï¼‰
      - ç‚ºäº†åœ¨å”è­°ä¸­å¼•å…¥æ™‚é–“æ¦‚å¿µï¼Œä½œè€…å°‡æ™‚é–“åˆ†ç‚ºå›ºå®šé•·åº¦çš„ã€Œæ™‚éš™ã€ï¼ˆslotsï¼‰ï¼Œä¸¦é€²ä¸€æ­¥å°‡è‹¥å¹²å€‹æ™‚éš™çµ„æˆä¸€å€‹ã€Œæ™‚ä»£ã€ï¼ˆepochï¼‰ã€‚é€™ç¨®åŠƒåˆ†æ–¹ä¾¿äº†å¾ŒçºŒä½¿ç”¨å¦‚ Casper FFG é€™æ¨£ä¾è³´å›ºå®šæ™‚é–“æª¢æŸ¥é»ï¼ˆcheckpointï¼‰çš„æ©Ÿåˆ¶ã€‚
      - æ™‚é–“åŠƒåˆ†ï¼šæ™‚éš™ï¼ˆSlotï¼‰èˆ‡æ™‚ä»£ï¼ˆEpochï¼‰
        *  å”è­°ä¸­å°‡æ™‚é–“åŠƒåˆ†ç‚ºå›ºå®šé•·åº¦çš„æ™‚éš™ï¼ˆä¾‹å¦‚æ¯å€‹æ™‚éš™12ç§’ï¼‰ï¼Œè€Œè‹¥å¹²å€‹é€£çºŒçš„æ™‚éš™ï¼ˆä¾‹å¦‚64å€‹æ™‚éš™ï¼‰çµ„æˆä¸€å€‹æ™‚ä»£ã€‚
        *  é€™ç¨®åŠƒåˆ†æœ‰åŠ©æ–¼å”è­°è¨­è¨ˆä¸­ä½¿ç”¨æª¢æŸ¥é»ï¼ˆcheckpointï¼‰çš„æ¦‚å¿µï¼Œä½¿å¾—ç³»çµ±èƒ½å¤ åœ¨æ¯å€‹æ™‚ä»£æœ«ç¢ºå®šä¸€å€‹â€œç©©å®šâ€ç‹€æ…‹ï¼Œå¾è€Œæ”¯æŒåƒCasper FFGé€™æ¨£çš„çµ‚çµæ©Ÿåˆ¶ã€‚
      - åŒæ­¥æ€§æ¨¡å‹ï¼šåŒæ­¥ã€éåŒæ­¥èˆ‡éƒ¨åˆ†åŒæ­¥
        * åŒæ­¥ç³»çµ±ï¼ˆSynchronousï¼‰ï¼šåœ¨é€™ç¨®æ¨¡å‹ä¸­ï¼Œç¶²çµ¡æœ‰æ˜ç¢ºçš„æ¶ˆæ¯å‚³éä¸Šç•Œï¼Œä¹Ÿå°±æ˜¯èªªæ¯æ¢æ¶ˆæ¯éƒ½èƒ½åœ¨é å®šçš„æ™‚é–“å…§å‚³éåˆ°æ‰€æœ‰ç¯€é»ã€‚
        * éåŒæ­¥ç³»çµ±ï¼ˆAsynchronousï¼‰ï¼šåœ¨é€™ç¨®æ¨¡å‹ä¸­ï¼Œæ²’æœ‰ä»»ä½•é—œæ–¼æ¶ˆæ¯å‚³éå»¶é²çš„ä¿è­‰ï¼Œæ¶ˆæ¯å¯èƒ½æœƒç„¡é™æœŸå»¶é²ï¼Œé€™å°å…±è­˜å”è­°ä¾†èªªæ˜¯ä¸€å¤§æŒ‘æˆ°ã€‚
        * éƒ¨åˆ†åŒæ­¥ç³»çµ±ï¼ˆPartially Synchronousï¼‰ï¼šé€™ç¨®æ¨¡å‹çµåˆäº†å‰å…©è€…çš„ç‰¹é»ï¼Œé›–ç„¶åœ¨æŸæ®µæ™‚é–“å…§æ¶ˆæ¯å¯èƒ½å»¶é²ä¸å®šï¼Œä½†å‡è¨­å­˜åœ¨ä¸€å€‹æœªçŸ¥çš„æ™‚é–“é»ä¹‹å¾Œï¼Œæ‰€æœ‰æ¶ˆæ¯éƒ½èƒ½åœ¨æŸå€‹å›ºå®šä¸Šç•Œå…§é€é”ã€‚
      - å”è­°è¨­è¨ˆä¸­çš„è€ƒé‡
        * ç‚ºäº†ä¿è­‰å®‰å…¨æ€§å’Œåˆç†æ´»æ€§ï¼Œä½œè€…åœ¨åˆ†ææ™‚ä¸ä¾è³´åš´æ ¼çš„åŒæ­¥å‡è¨­ï¼›ä¹Ÿå°±æ˜¯èªªï¼Œå³ä½¿åœ¨éåŒæ­¥çš„æƒ…æ³ä¸‹ï¼Œåªè¦é”åˆ°ä¸€å®šæ¢ä»¶ï¼ˆä¾‹å¦‚è¶³å¤ å¤šçš„é©—è­‰è€…æ˜¯èª å¯¦çš„ï¼‰ï¼Œå”è­°ä¹Ÿèƒ½ä¿æŒå®‰å…¨æ€§ã€‚
        * ä½†åœ¨è¨è«–æ¦‚ç‡æ´»æ€§ï¼ˆprobabilistic livenessï¼‰æ™‚ï¼Œä½œè€…å‰‡æ¡ç”¨éƒ¨åˆ†åŒæ­¥æ¨¡å‹çš„å‡è¨­ï¼Œä¾†é‡åŒ–åœ¨ç¾å¯¦æƒ…æ³ä¸‹æ–°å€å¡Šæœ€çµ‚åŒ–çš„æ¦‚ç‡ã€‚
      - æ¶ˆæ¯è™•ç†çš„ç‰¹æ®Šæ€§
        * ç‚ºäº†é¿å…ç”±æ–¼æ™‚é˜å·®ç•°æˆ–ç¶²çµ¡å»¶é²è€Œå‡ºç¾â€œæå‰â€æ¥æ”¶åˆ°æœªä¾†æ™‚é–“æˆ³çš„æ¶ˆæ¯ï¼Œä½œè€…å»ºè­°èª å¯¦ç¯€é»åœ¨è™•ç†æ¶ˆæ¯æ™‚ï¼Œæ‡‰ç­‰å¾…æœ¬åœ°æ™‚é˜é”åˆ°æ¶ˆæ¯æ‰€æ¨™è¨˜çš„æ™‚é–“å¾Œå†å°‡å…¶ç´å…¥æ­£å¼çš„ view ä¸­ã€‚
        > æˆ‘çš„çŒœæ¸¬: ä»¥å¤ªåŠæ˜¯éƒ¨åˆ†åŒæ­¥çš„ã€‚ä¹Ÿå°±æ˜¯èªªï¼Œåœ¨æŸå€‹æœªçŸ¥çš„æ™‚é–“é»ä¹‹å¾Œï¼Œæ‰€æœ‰æ¶ˆæ¯éƒ½æœƒåœ¨ä¸€å€‹é å®šçš„ä¸Šç•Œå…§å‚³éåˆ°å„ç¯€é»ï¼Œé€™ä½¿å¾—å”è­°èƒ½å¤ åœ¨å¯¦éš›ç¶²çµ¡å»¶é²å­˜åœ¨çš„æƒ…æ³ä¸‹ä»ç„¶èƒ½å¤ æ­£å¸¸é‹è¡Œã€‚
  * Main Ingredients
    +  Casper FFGï¼ˆFriendly Finality Gadgetï¼‰
      - ç›®çš„èˆ‡ä½œç”¨
        * Casper FFG çš„ä¸»è¦ä»»å‹™æ˜¯ç‚ºå€å¡Šéˆæä¾›ä¸€ç¨®ã€Œçµ‚çµè£ç½®ã€ï¼Œå³å°éƒ¨åˆ†å€å¡Šé€²è¡Œæœ€çµ‚åŒ–ï¼ˆfinalizationï¼‰ï¼Œä½¿å¾—é€™äº›å€å¡Šä¸€æ—¦è¢«æœ€çµ‚åŒ–å¾Œå°±ç„¡æ³•è¢«æ’¤éŠ·æˆ–æ›¿æ›ã€‚é€™å°æ–¼é˜²æ­¢å€å¡Šéˆåˆ†å‰å’Œé›™é‡èŠ±è²»ç­‰æ”»æ“Šè‡³é—œé‡è¦ã€‚
      - åŸºæœ¬æ¦‚å¿µ
        * æª¢æŸ¥é»ï¼ˆCheckpointï¼‰ï¼šåœ¨ Casper FFG ä¸­ï¼Œå€å¡Šé«˜åº¦é”åˆ°æŸå€‹å›ºå®šå€æ•¸ï¼ˆä¾‹å¦‚é«˜åº¦æ˜¯å¸¸æ•¸ ğ» çš„å€æ•¸ï¼‰çš„å€å¡Šè¢«è¦–ä½œæª¢æŸ¥é»ã€‚é€™äº›æª¢æŸ¥é»æ§‹æˆäº†ä¸€å€‹å­æ¨¹ï¼Œç”¨æ–¼å¾ŒçºŒçš„æœ€çµ‚åŒ–éç¨‹ã€‚
        * Attestationsï¼ˆæŠ•ç¥¨ï¼‰ï¼šæ¯å€‹é©—è­‰è€…å°ä¸€æ¢å¾ä¸Šä¸€å€‹æª¢æŸ¥é»åˆ°ç•¶å‰æª¢æŸ¥é»çš„éæ¸¡é€²è¡ŒæŠ•ç¥¨ã€‚é€™äº›æŠ•ç¥¨æŒ‰å…¶æ¬Šé‡ï¼ˆé€šå¸¸å’Œé©—è­‰è€…çš„æŠµæŠ¼è³‡ç”¢æˆæ­£æ¯”ï¼‰ç´¯è¨ˆï¼Œé”åˆ°ä¸€å®šæ¯”ä¾‹ï¼ˆé€šå¸¸ç‚º 2/3ï¼‰å¾Œï¼Œå°±èƒ½å½¢æˆã€Œè¶…å¤šæ•¸é€£æ¥ã€ï¼ˆsupermajority linkï¼‰ã€‚
        * Justification èˆ‡ Finalizationï¼š
          +  ç•¶å¾ä¸€å€‹å·²ç¶“è¢«èªå®šç‚º justified çš„æª¢æŸ¥é»åˆ°ä¸‹ä¸€å€‹æª¢æŸ¥é»çš„æŠ•ç¥¨ç´¯è¨ˆè¶…é 2/3 æ™‚ï¼Œæ–°çš„æª¢æŸ¥é»ä¹Ÿå°±æˆç‚º justified çš„ã€‚
          +  å¦‚æœé€£çºŒå…©å€‹æª¢æŸ¥é»ä¹‹é–“å½¢æˆäº†è¶…å¤šæ•¸é€£æ¥ï¼Œå‰‡ç¬¬ä¸€å€‹æª¢æŸ¥é»å¯ä»¥è¢«èªå®šç‚º finalizedï¼Œä¹Ÿå°±æ˜¯è¢«ç¢ºå®šç‚ºå€å¡Šéˆæ­·å²çš„ä¸€éƒ¨åˆ†ã€‚
        * å®‰å…¨æ€§èˆ‡æ¿€å‹µæ©Ÿåˆ¶
          + Casper FFG åŒæ™‚å¼•å…¥äº†æ‡²ç½°æ¢ä»¶ï¼ˆslashing conditionsï¼‰ï¼Œç”¨ä¾†ç´„æŸé©—è­‰è€…è¡Œç‚ºï¼Œç¢ºä¿ä»–å€‘ä¸æœƒåœ¨ç›¸åŒæ™‚ä»£å…§å°ä¸åŒæª¢æŸ¥é»é€²è¡Œé‡è¤‡æŠ•ç¥¨ï¼ˆæˆ–ä½œå‡ºå…¶ä»–é•è¦è¡Œç‚ºï¼‰ï¼Œå¦å‰‡å°±æœƒè¢«è™•ä»¥ç½°æ¬¾æˆ–ã€Œæ–¬é¦–ã€ï¼ˆslashï¼‰å…¶æŠµæŠ¼è³‡ç”¢ã€‚
            > æˆ‘çš„ç†è§£: slashingæ©Ÿåˆ¶è¨­è¨ˆä¸»è¦é˜²äºŒ: æƒ¡æ„ç¨‹å¼é‡è¤‡æŠ•ç¥¨æˆ–çŸ›ç›¾æŠ•ç¥¨
            > TODO: (ä¸ç¢ºå®š)æˆ‘å•ChatGPT: å¦‚æœç¯€é»æœƒå› ç¶²è·¯ä¸ç©©æœƒå°è‡´slashingå—? ç•¶å¹´è¨­è¨ˆæ©Ÿåˆ¶æœ‰è€ƒæ…®ï¼Œä½†å¦‚æœè©¦åœ–è£œæ•‘(attestation inclusion delay æˆ– attestation consideration delay)å¯èƒ½æœƒè¢«è¦–ç‚ºé•è¦è¡Œç‚ºè€Œ
            > 
  
  
[ ] TODO: [Ben Edgington's Ethereum stuff](https://benjaminion.xyz/): Benç¾åœ¨åœ¨OP Labs, ä»–2017å¹´é–‹å§‹å¯«å…±è­˜å±¤ã€teku(Ethereumçš„å®¢æˆ¶ç«¯å…±è­˜å±¤ç”¨Javaå¯«çš„)

### 2025.03.11
> ç¹¼çºŒè®€æ˜¨æ—¥çš„[2020å¹´è«–æ–‡ï¼ŒCombining GHOST and Casper](https://arxiv.org/pdf/2003.03052)ï¼Œå¾ç¬¬å››ç¯€Main Protocol: Gasperé–‹å§‹
+ Epoch Boundary Blocks èˆ‡ Epoch Boundary Pairs
  - å€å¡Šéˆä¸­æ¯å€‹å€å¡Šéƒ½èƒ½å½¢æˆä¸€æ¢å¾å‰µä¸–å€å¡Šåˆ°è©²å€å¡Šçš„éˆï¼Œä½†ç‚ºäº†åœ¨æ¯å€‹æ™‚ä»£ï¼ˆepochï¼‰ä¸­æœ‰æ˜ç¢ºçš„æª¢æŸ¥é»ï¼Œä½œè€…å®šç¾©äº†ã€ŒEpoch Boundary Blockã€ï¼Œå³åœ¨æ¯å€‹æ™‚ä»£é–‹å§‹æ™‚çš„æœ€æ–°å€å¡Šã€‚
  - ç‚ºäº†é¿å…åŒä¸€å€å¡Šåœ¨ä¸åŒæ™‚ä»£å¯èƒ½æ‰®æ¼”æª¢æŸ¥é»è§’è‰²è€Œç”¢ç”Ÿæ­§ç¾©ï¼Œå¼•å…¥äº†ã€ŒEpoch Boundary Pairã€ï¼Œè¨˜ä½œ (ğµ,ğ‘—)ï¼Œå…¶ä¸­ ğµ æ˜¯å€å¡Šï¼Œğ‘— è¡¨ç¤ºæ‰€å±¬çš„æ™‚ä»£ã€‚é€™æ¨£å¯ä»¥æ›´ç²¾ç¢ºåœ°æè¿°åœ¨æŸå€‹æ™‚ä»£å…§çš„ç‹€æ…‹ã€‚
    ![image](https://github.com/user-attachments/assets/b9b3f3c6-bd68-4cd0-9188-dcbb7826b878)

+ Committeesï¼ˆå§”å“¡æœƒï¼‰
  - é©—è­‰è€…è¢«éš¨æ©ŸåŠƒåˆ†åˆ°ä¸åŒçš„å§”å“¡æœƒä¸­ï¼Œæ¯å€‹å§”å“¡æœƒè² è²¬åœ¨å„è‡ªæ‰€å±¬çš„æ™‚éš™å…§å®Œæˆå€å¡Šæè­°å’Œ attestationã€‚
  - é€™ç¨®åŠƒåˆ†çš„ç›®çš„åœ¨æ–¼åˆ†æ•£ä»»å‹™ï¼Œé¿å…å–®ä¸€ç¯€é»æˆ–å°éƒ¨åˆ†ç¯€é»æ”¯é…æ•´å€‹å…±è­˜éç¨‹ï¼ŒåŒæ™‚æå‡ç³»çµ±çš„ä¸¦è¡Œè™•ç†èƒ½åŠ›å’Œå®‰å…¨æ€§ã€‚
+ Blocks èˆ‡ Attestations
  - å€å¡Šï¼ˆBlocksï¼‰ï¼šæ¯å€‹å€å¡ŠåŒ…å«äº†è‡ªèº«çš„åŸºæœ¬æ•¸æ“šï¼ˆä¾‹å¦‚æ™‚é–“æˆ³ã€çˆ¶å€å¡ŠæŒ‡é‡ç­‰ï¼‰ä»¥åŠã€Œnew attestsã€ï¼Œå³å°šæœªåœ¨ä¹‹å‰å€å¡Šä¸­å‡ºç¾éçš„ attestationã€‚
  - Attestationsï¼ˆæŠ•ç¥¨ï¼‰ï¼šé©—è­‰è€…åœ¨å„è‡ªæ™‚éš™ä¸­é€šé attestation è¡¨ç¤ºå°ç•¶å‰éˆé ­ï¼ˆæ ¹æ“šæŸç¨® fork-choice è¦å‰‡ï¼‰çš„æ”¯æŒï¼Œé€™äº› attestation åŒæ™‚æœå‹™æ–¼ Casper FFGï¼ˆä½œç‚ºæª¢æŸ¥é»é–“çš„æŠ•ç¥¨ï¼‰å’Œ LMD GHOST çš„åˆ†å‰é¸æ“‡ã€‚
+ Justification èˆ‡ Finalizationï¼ˆæœ€çµ‚æ€§ï¼‰
  - Justificationï¼šä¾æ“š Casper FFG çš„æ¦‚å¿µï¼Œå¦‚æœå¾ä¸€å€‹å·²ç¶“ justified çš„ epoch boundary pair åˆ°ä¸‹ä¸€å€‹ epoch boundary pair çš„éæ¸¡ï¼Œç²å¾—äº†è¶…é 2/3 é©—è­‰è€…çš„æŠ•ç¥¨æ”¯æŒï¼Œé‚£éº¼å¾Œè€…ä¹Ÿæœƒè¢«èªå®šç‚º justifiedã€‚
    ![image](https://github.com/user-attachments/assets/ee23e154-ddc9-4299-944c-352bfb25acd9)
  - Finalizationï¼šåœ¨ justification çš„åŸºç¤ä¸Šï¼Œç•¶å‡ºç¾é€£çºŒçš„ã€ç¬¦åˆè¦å®šçš„ justified epoch boundary pairs æ™‚ï¼Œéƒ¨åˆ†å€å¡Šå¯ä»¥è¢«æ­£å¼æœ€çµ‚åŒ–ï¼Œå³èªç‚ºé€™éƒ¨åˆ†å€å¡Šéˆæ­·å²ä¸å¯æ›´æ”¹ã€‚
    ![image](https://github.com/user-attachments/assets/9167eb77-518c-4a12-8262-cf850d47baee)

+ Hybrid LMD GHOST Fork-Choice Rule
  - ç‚ºäº†åŒæ™‚åˆ©ç”¨ Casper FFG æä¾›çš„ checkpoint ä¿¡æ¯å’Œ LMD GHOST çš„å‹•æ…‹æŠ•ç¥¨æ•¸æ“šï¼Œä½œè€…è¨­è¨ˆäº†ä¸€å€‹æ··åˆå‹çš„åˆ†å‰é¸æ“‡è¦å‰‡ã€‚
  - è©²è¦å‰‡åœ¨é¸æ“‡æ­£çµ±éˆæ™‚ï¼Œå¾æœ€è¿‘è¢« justification çš„æª¢æŸ¥é»é–‹å§‹ï¼Œä¸¦æ ¹æ“šå„å­å€å¡Šç´¯ç©çš„æœ€æ–°æŠ•ç¥¨æ¬Šé‡ä¾†é€æ­¥æ“´å±•éˆæ¢ï¼Œç›´åˆ°æ‰¾åˆ°æœ€çµ‚çš„éˆé ­ã€‚
+ Slashing Conditionsï¼ˆæ‡²ç½°æ¢ä»¶ï¼‰èˆ‡æ¿€å‹µæ©Ÿåˆ¶
  - ç‚ºäº†é˜²æ­¢é©—è­‰è€…ä½œå¼Šï¼ˆå¦‚é‡è¤‡æŠ•ç¥¨æˆ–é€²è¡ŒçŸ›ç›¾æŠ•ç¥¨ï¼‰ï¼Œå”è­°æ˜ç¢ºè¦å®šäº† slashing æ¢ä»¶ã€‚å¦‚æœé©—è­‰è€…é•åé€™äº›è¦å®šï¼Œå…¶è³ªæŠ¼çš„è³‡ç”¢å°‡æœƒè¢«éƒ¨åˆ†æˆ–å…¨éƒ¨æ‰£é™¤ã€‚
  - åŒæ™‚ï¼Œæ­£ç¢ºåŸ·è¡Œå”è­°ï¼ˆä¾‹å¦‚åŠæ™‚æŠ•ç¥¨ã€æ­£ç¢ºåŒ…å« attestationï¼‰æœƒç²å¾—çå‹µï¼Œå¾è€Œæ¿€å‹µé©—è­‰è€…éµå®ˆå”è­°è¦å‰‡ã€‚
![image](https://github.com/user-attachments/assets/0b5547fc-41ee-46fd-857b-8c84e955e359)
![image](https://github.com/user-attachments/assets/83a5c260-ea23-4356-b856-271578d031a0)

### 2025.03.12
+ è®€[fork choice](https://github.com/ethereum/annotated-spec/blob/master/phase0/fork-choice.md)å’Œè®€[Phase 0 -- Honest Validator](https://github.com/ethereum/consensus-specs/blob/dev/specs/phase0/validator.md#beacon-chain-responsibilities)
  + `ETH1Block`ã€`ETH2Block`
    + `ETH1Block`: PoWï¼Œäº¤æ˜“/æ™ºèƒ½åˆç´„åŸ·è¡Œçµæœ/ç‹€æ…‹è®Šæ›´ï¼Œç´€éŒ„ç”¨æˆ¶äº¤æ˜“å’Œè³‡ç”¢ç‹€æ…‹
    + `ETH2Block`: PoSï¼Œæ ¸å¿ƒæ˜¯Beacon Chianï¼Œä¸ç›´æ¥åŒ…å«ç”¨æˆ¶äº¤æ˜“æ•¸æ“šï¼Œè€Œæ˜¯ç”¨ä¾†èšåˆèˆ‡ç´€éŒ„é©—è­‰è€…çš„attestation(æŠ•ç¥¨)è¨Šæ¯ã€éš¨æ©Ÿæ¨¹ç”ŸæˆåŠæœ€çµ‚æ€§è­‰æ˜(Finalization)
+ è®€(transactions)[https://ethereum.org/yo/developers/docs/transactions/]: `from `, `to`, `signature`, `nonce`, `value`, `inout`, `gasLimit`, `maxPriorityFeePerFas`, `maxFeePerGas`(inclusive of `baseFeePerGas` and `maxPriorityFeePerGas`)
  ![image](https://github.com/user-attachments/assets/10599ba7-6d6b-4697-97d1-695a97e6d674)
+ è®€[Account](https://ethereum.org/yo/developers/docs/accounts/): `nonce`, `balance`, `codeHash`, `storageRoot`,
![image](https://github.com/user-attachments/assets/33714d8d-9399-4ae4-9775-978668d72f64)
+ è®€[EVM](https://ethereum.org/yo/developers/docs/evm/)
  ![image](https://github.com/user-attachments/assets/e6ef686d-e171-49b2-82f9-de754a863054)
  ![image](https://github.com/user-attachments/assets/db090ff7-dca0-4bc9-8fb5-f7b05a9c9767)
  ![image](https://github.com/user-attachments/assets/0ce3e520-bd39-4ef3-a7c7-dd6f5b596124)
  > æ­¤åœ–å¯ä»¥çœ‹å‡ºoperationsç›´æ¥çš„Gasæœ€å°‘ï¼Œç¶“éstackæˆ–messge callçš„gasè¼ƒå¤š
+ è®€[evm.codes](https://www.evm.codes/) <--å¯«solidityæ™‚å¯ä»¥å¸¸å¸¸æŸ¥

### 2025.03.13
+ çœ‹[Gasper, by Ben Edgington](https://www.youtube.com/watch?v=cOivWPEBEMo)

### 2025.03.14
+ çœ‹[EVM Object Format (EOF)](https://www.youtube.com/watch?v=X2mlptWzphc) 

### 2025.03.15
+ Day18çš„è£œå……è³‡æ–™
+ çœ‹[ç”¨wiresharpå±•ç¤ºeth p2pç¯€é»ç´°ç¯€, sender ip, reciver ipç­‰](https://www.youtube.com/watch?v=AhE4KbV-f1w)
  + æ‰¾åˆ°ä¸€ç¯€é»
  + å³éµ`Apply as Filter`->`selected`ç¯©é¸
    + pingèˆ‡pongæ˜¯ä¸€çµ„ã€FindNodeå’ŒNeighboræ˜¯ä¸€çµ„
    ![image](https://github.com/user-attachments/assets/55089935-845e-466b-be45-58fc7bad9116)
 + ä¸Šæ–¹`Statistics`->`Ethdevp2p`->Packet Stats

### 2025.03.16
+ Day19çš„[libp2pä»‹ç´¹by David Dias](https://www.youtube.com/watch?v=CRe_oDtfRLw)
+ æ§‹æƒ³: 1x.1x.1x.1x/xx.png <-> xx.com/xx.png, Firewall, NAT, High Latency Networks, Reliablity
+ IPFS -> libp2p
+ libp2pçš„ç›®æ¨™æ˜¯åœ¨ç€è¦½å™¨ä¸Šèƒ½è·‘(Go, Node.js)åƒipfs.io
+ PeerPadæ˜¯ä¸€æ¬¾å³æ™‚ç·¨è¼¯P2På·¥å…·
+ libp2p: Ethereum&polkadotæ”¯æ´

### 2025.03.17
+ åŸ·è¡Œlibp2p goç‰ˆ
  > å®˜æ–¹å¯«1.20
  ![image](https://github.com/user-attachments/assets/debaadf9-6bec-46bf-864f-b926bf3c2862)
>> ä½†å…¶å¯¦éœ€goç‰ˆæœ¬1.23![image](https://github.com/user-attachments/assets/831b9e86-3ac2-4f4b-b7f4-13d5f974e7e2)

### 2025.03.18
+ å›å»çœ‹week0: how does bittorrnt work
+ å›å»çœ‹day2

### 2025.03.19
+ å›å»çœ‹day3

### 2025.03.20
+ çœ‹[EL](https://github.com/ethereum/execution-specs)çš„EIPï¼Œç”±å¹´ä»½èˆŠè‡³æ–°çœ‹
+ [EIP core](https://eips.ethereum.org/core): åˆ—è¡¨æ•´ç†
+ EIP2
  > ![image](https://github.com/user-attachments/assets/6bb6967e-534f-4f39-88a5-a78a352eb6a2)
  >> ![image](https://github.com/user-attachments/assets/97fc67ce-1e6b-45c0-9dcf-8e37a0814b29)

### 2025.03.21
+ å›å»Day3çš„è£œå……è³‡æ–™[Gisli-Understanding Ethereum by studying the source code ](https://gisli.hamstur.is/2020/08/understanding-ethereum-by-studying-the-source-code/)
+ å‰›çµ„è£å®Œæ–°é›»è…¦+OSï¼Œæ­£åœ¨è£WSLï¼Œé è¨ˆæ˜å¤©è£å¥½geth

### 2025.03.22
+ å®‰è£`WSL2`ã€`Ubuntu-24.04`
+ å®‰è£`geth`ã€`go`
+ readme.mdè£¡å¯«`make eth`æ”¹æˆ`go build -o geth ./cmd/geth`
![image](https://github.com/user-attachments/assets/0c16c1ab-f253-4ef5-a6bd-ed483dd0860a)
æ”¹æˆ
![image](https://github.com/user-attachments/assets/4145a2a3-30a1-46ae-88c6-afd3604ea86f)
![image](https://github.com/user-attachments/assets/c147a836-cea7-4592-960e-9d25f339c4a9)
> æˆåŠŸåŸ·è¡Œgeth

### 2025.03.23
+ æäº¤[geth PR](https://github.com/ethereum/go-ethereum/pull/31464)

### 2025.03.24
+ æ˜¨å¤©PRè¢«ç®¡ç†è€…å›è¦†ï¼Œæ˜¯å› ç‚ºæˆ‘shellè¨­å®šå•é¡Œï¼Œåªç”¨`go`æœƒæ¯”`make`å°‘ä¸€äº›é‡è¦çš„ç›¸ä¾ã€‚
+ è®€geth github
+ é€²å…¥é»: `cmd/geth/main.go`
  1. main()
  2. init(): è£¡é ­æœ‰commands, æ—¥å¾Œcomnmaadså¿«é€ŸæŸ¥æ‰¾å€
  3. geth(): call StartNode()
  4. startNode(): å…ˆæª¢æŸ¥æª¢åŒ…ï¼Œç›£æ§æ˜¯å¦çµæŸ
+ ä¹Ÿæœ‰consensus/: å…¶ä¸­consensus.goä¸å¤–ä¹verify,åŠ é¹½,è¨ˆç®—è¤‡é›œåº¦ç­‰

### 2025.03.26
+ Validator
+ ç›®çš„: import, backup, edit setting, sign, remove, slashing protecting
+ æ ¼å¼: JSON, public and private validator key
+ wallet:
+ purpose block:
+ webUI

### 2025.03.27
+ æ‰¿Validatorå½±ç‰‡ï¼Œå¾purpose blocké–‹å§‹
+ ![image](https://github.com/user-attachments/assets/85a390ee-b399-406c-9074-de1efff3640d)
+ Purpose Block function():
  +  PurposeBlock()
    +  v.signRandReveal() #RANDAO
    +  v.Graffti()  
    +  v.validatorClient.BeaconBlock()
    +  wb = blocks.NewBeaconBlock()
    +  sig = v.signBlock()
    +  blocks.BuildSignedBeaconBlock()
    +  v.db.SlashableProposalCheck()
    +  ethpb.GenericsSignedBlock()
    +  Error handling for Deneb blocks, (blob?å½±ç‰‡æ­¤è™•é€™è£¡æ²’è½æ‡‚)
    +  v.validatorClient.ProposedBeaconBlock()
    +  [å¥½ç”¨APIæŸ¥è©¢](https://ethereum.github.io/keymanager-APIs/)
      + Fee Recipent
      + Gas Limit
      + Graffiti
      + Locol key Manager
### 2025.03.28
+ [Engine API](https://hackmd.io/@danielrachi/engine_api)æ˜¯ä¸€å€‹CLå’ŒELé€šè¨Šçš„ä»‹é¢è¦ç¯„ã€‚
+ é€é`engine_forkchoiceUpdated`å’Œ`engine_getPayload`å’Œ`engine_newPayload`é©—è­‰å€å¡ŠåŸ·è¡Œçµæœã€æª¢æŸ¥äº¤æ˜“åŸ·è¡Œæ˜¯å¦æœ‰æ•ˆã€‚
  + `engine_forkchoiceUpdated`: CL å‘Šè¨´ ELã€Œç›®å‰æˆ‘æ±ºå®šç”¨å“ªå€‹åˆ†æ”¯ä½œç‚º head blockã€ï¼Œæˆ–ã€Œæˆ‘æœ€çµ‚ç¢ºå®šäº†å“ªå€‹å€å¡Šã€ã€‚
  + `engine_getPayload`ï¼šCL è¦æ±‚ ELã€Œæ‰“åŒ…ä¸€å€‹åŸ·è¡Œå±¤å€å¡Šï¼ˆpayloadï¼‰ï¼Œè£¡é¢è¦åŒ…å«äº¤æ˜“èˆ‡ç‹€æ…‹çš„å¢æ¸›ã€ï¼Œä»¥ä¾¿é¦¬ä¸Šå‡ºå¡Šã€‚
  + `engine_newPayload`ï¼šCL å‘Šè¨´ ELã€Œé€™æ˜¯æŸå€‹æ–°å€å¡Šçš„åŸ·è¡Œå…§å®¹ï¼Œéº»ç…©å¹«æˆ‘åŸ·è¡Œçœ‹çœ‹å°ä¸å°ã€ï¼ŒEL åŸ·è¡Œå¾Œå›å‚³æˆåŠŸæˆ–å¤±æ•—ã€‚
+ æµç¨‹:
  + CL ç­‰åˆ°å‡ºå¡Šæ™‚é–“é» (slot)
  + CL å‘¼å« EL
  + EL æ‰“åŒ…äº¤æ˜“ä¸¦åŸ·è¡Œ
  + CL æ‹¿åˆ°åŸ·è¡Œçµæœ
  + å…¶ä»–ç¯€é»æ”¶åˆ°å€å¡Š
### 2025.03.29
+ ç‚ºè·‘ç¯€é»
+ è£å¥½lighthouseï¼Œä¹‹å‰è£égeth
+ 
### 2025.03.30
+ è£lighthouseå¡åœ¨build error
+ 
<!-- Content_END -->
