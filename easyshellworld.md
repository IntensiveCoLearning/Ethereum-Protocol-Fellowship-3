---
timezone: UTC+8
---

> 请在上边的 timezone 添加你的当地时区(UTC)，这会有助于你的打卡状态的自动化更新，如果没有添加，默认为北京时间 UTC+8 时区


# None

1. 自我介绍: 
无名的人阿！

>我是这路上 没名字的人
我没有新闻 没有人评论
要拼尽所有 换得普通的剧本
曲折辗转 不过谋生
我是离开 小镇上的人
是哭笑着 吃过饭的人
是赶路的人 是养家的人
是城市背景的 无声
我不过 想亲手触摸
弯过腰的每一刻
留下的 湿透的脚印 是不是值得
这哽咽 若你也相同
就是同路的朋友

2. 你认为你会完成本次残酷学习吗？ 
坚持一下呗！  

3. 你的联系方式:
  临时：@oneworld

## Notes

<!-- Content_START -->

### 2025.03.10
#### 重走学习路
* 主要针对：`https://epf.wiki/#/eps/week1`第一周内容进行学习
* **回顾uinx** UNIX 是一种**多用户**、**多任务**、**文件系统**、**模块化**、**权限管理**的操作系统。
  * 从而衍生出来设计理念：
   > “小而精”（Do One Thing and Do It Well）：每个程序应该只做一件事，并且做到极致。
   “一切皆文件”（Everything is a File）：设备、进程、网络等都用文件表示，统一操作方式。
   “管道”机制（Pipes & Filters）：将多个小程序组合，利用 |（管道）连接，使数据流动，提高灵活性。
   模块化设计：程序可以像乐高积木一样组合使用，而不是一个庞大复杂的单体程序。
* **非对称加密** 使用一对密钥：公钥用于加密，私钥用于解密，解决了对称加密中密钥分发的难题，允许安全的通信和身份验证。此外，非对称加密支持数字签名功能，发送者使用私钥签名，接收者使用公钥验证签名的真实性和完整性。其他功能与应用包括：密钥交换，例如ElGamal加密算法用于安全地交换对称加密所需的密钥；基于身份的加密，通过将用户的身份信息直接用作公钥，简化密钥管理过程，如组合公钥（CPK）是一种基于标识的非对称公钥管理体制，能够通过微小的生成矩阵产生近乎无限的密钥，解决密钥管理中的规模化难题；椭圆曲线密码学（ECC），利用椭圆曲线数学结构，提供与传统加密算法相同的安全性，但使用更短的密钥长度，提高了效率，广泛应用于资源受限的环境，如移动设备和智能卡；最优非对称加密填充（OAEP），是一种与RSA加密一起使用的填充方案，通过添加随机性元素和防止部分解密，增强了加密的安全性。
* **黄白书** 以太坊是一个去中心化的平台，旨在支持智能合约和去中心化应用（dApps）的开发和运行。其核心架构包括以下关键组件：
    * **框架结构：**
        * **账户：** 以太坊支持两种类型的账户：外部拥有账户（EOA）和合约账户。EOA由私钥控制，主要用于用户发起交易；合约账户由智能合约代码控制，能够在接收到交易时执行特定代码。
        * **交易：** 交易是从一个账户到另一个账户的信息传递，可能包含数据和价值转移。交易可以触发智能合约的执行，导致状态的改变。
        * **区块链：** 以太坊的区块链由一系列区块组成，每个区块包含多个交易。区块按时间顺序链接，形成一个不可变的记录。
    * **状态机：** 以太坊的状态机定义了系统的状态及其变化规则。系统状态由所有账户的状态组成，包括账户余额、存储数据等。每笔交易都会引起状态转换，新的状态取决于当前状态和交易的具体内容。
    * **执行层：** 执行层负责处理交易和执行智能合约。以太坊虚拟机（EVM）是执行层的核心组件，能够解释和运行智能合约的字节码。EVM提供了一个沙盒环境，确保合约代码的执行不影响主机系统的安全性。
    * **共识层：** 共识层确保网络中所有节点对区块链的状态达成一致。以太坊最初采用工作量证明（PoW）共识机制，要求矿工解决复杂的数学问题以验证交易和生成新区块。然而，随着以太坊2.0的推进，网络正逐步转向权益证明（PoS）机制，通过质押以太币来参与共识过程，提高网络的可扩展性和能源效率。


### 2025.03.11
#### 2th
* **路线图**
  ![](https://pbs.twimg.com/media/GCntEVFWwAAoWeI?format=jpg&name=large)
    * 这个路线图展示了 **以太坊（Ethereum）** 的未来发展计划，包括多个主要阶段和改进方向。它分为 **五大部分**，分别代表以太坊的关键技术升级：
      1. **The Merge（合并）**  
            - **已完成（2022 年 9 月）**  
            - 以太坊从 **工作量证明（PoW）** 过渡到 **权益证明（PoS）**，减少能源消耗，并为未来扩展奠定基础。

      2. **The Surge（激增）**  
            - 目标是 **提高以太坊的交易吞吐量**，主要通过 **Danksharding 和 Rollups（汇总）** 技术。  
            - **EIP-4844（Proto-Danksharding）** 作为过渡阶段，引入“Blob 交易”，降低 Layer 2（如 Arbitrum、Optimism）的成本。

      3. **The Scourge（净化）**  
            - 解决 **MEV（最大可提取价值）** 相关问题，确保网络去中心化和公平性。  
            - 主要目的是减少矿工/验证者对交易排序的操控，并优化以太坊的 **去中心化中立性**。

      4. **The Verge（边界）**  
            - 重点是 **Verkle Trees（弗克尔树）**，优化存储和状态证明。  
            - 使以太坊节点更轻量级，减少存储需求，提高验证效率。

      5. **The Purge（清理）**  
            - 通过删除旧的历史数据，减少以太坊的 **状态膨胀（State Bloat）**，提高节点同步速度和存储效率。

      6. **The Splurge（锦上添花）**  
            - 其他改进和优化，确保以太坊运行更稳定和高效，比如 **EIP-4337（账户抽象）** 以及未来协议改进。
* **客户端多样性** 以太坊客户端多样性对于网络的安全性、去中心化和弹性至关重要。客户端是运行以太坊协议的软件，负责处理交易、验证区块和与其他节点通信。以太坊的客户端可以分为执行层（EL）和共识层（CL）两部分，执行层客户端如 Geth、Nethermind、Besu 和 Erigon，主要处理智能合约执行和账户状态，而共识层客户端如 Prysm、Lighthouse、Nimbus 和 Teku，负责验证区块和参与共识协议。客户端多样性能提高网络安全性，因为如果某个客户端占据主导地位，出现漏洞或遭受攻击时，可能会导致整个网络受损。通过分散使用多个客户端，即使某个客户端出现问题，网络仍能正常运行，从而增强网络的弹性。此外，去中心化程度也依赖于客户端的多样性，避免了单一客户端的集中控制。在现实中，过去以太坊的执行层主要依赖 Geth，而共识层则大多验证者使用 Prysm，导致集中化问题。因此，社区鼓励验证者和开发者选择不同的客户端，增强网络的去中心化和安全性。总的来说，客户端多样性是以太坊网络健康运作的基础。


### 2025.03.12
#### 3th toaday is CL
* **CL共识层组成和运行方式** 
      1. **信标链（Beacon Chain）**：是CL的主要组件，于2020年12月启动，作为PoS共识机制的核心。

      2. **验证者（Validators）**：代替矿工成为网络安全的守护者，需要质押32个ETH才能成为验证者。

      3. **委员会（Committees）**：每个时隙（slot）随机选择的验证者小组，负责对区块进行投票。

      4. **时隙和纪元（Slots and Epochs）**：
            - 每个时隙持续12秒
            - 32个时隙组成一个纪元（约6.4分钟）
            - 每个时隙由一个验证者提议新区块

      5. **证明（Attestations）**：验证者对区块有效性的投票。

      6. **分叉选择算法（Fork Choice Rule）**：用于确定最长合法链，目前使用LMD-GHOST算法。 

* **拜占庭协议在以太坊CL层的应用** 拜占庭容错（Byzantine Fault Tolerance，BFT）在以太坊CL层的多个方面得到应用：
      1. **Casper FFG（Friendly Finality Gadget）**：
            - 这是以太坊使用的BFT共识机制
            - 当区块获得2/3以上验证者的投票时，会被标记为"确认的"（justified）
            - 当一个"确认的"区块的子区块同样被确认后，原区块变为"最终确定的"（finalized）
            - 这保证网络能够容忍最多1/3的恶意或离线节点

      2. **同步委员会（Sync Committees）**：
            - 负责为轻客户端提供更新，使用BFT机制确保信息准确性
            - 每256个纪元（约27小时）更换一次

      3. **RANDAO机制**：
            - 用于生成验证者选择的随机数
            - 设计为抗拜占庭攻击，即使部分参与者是恶意的也能维持随机性

      4. **惩罚机制（Slashing）**：
            - 对违反协议的验证者实施经济惩罚
            - 惩罚恶意行为（如同时为两个冲突区块投票）
            - 这部分解决了拜占庭将军问题中的"叛徒"问题

      5. **分叉选择**：
            - LMD-GHOST算法考虑验证者的投票权重
            -   能够在存在拜占庭节点的情况下仍选择正确的链

### 2025.03.13
#### 4th toaday is EL
* **EL定义** Execution Layer（EL）是以太坊架构中的关键组成部分，负责处理交易和执行智能合约。
* **EL构成部分**
      * **EVM（以太坊虚拟机）：** EVM是执行层的核心组件，负责在以太坊网络上执行智能合约。它提供了一个运行环境，使得智能合约能够以一致且可预测的方式执行。
      * **交易池：** 交易池存储待处理的交易，这些交易由网络中的节点收集，并等待验证和执行。
      * **状态数据库：** 该数据库记录了以太坊网络的当前状态，包括账户余额、智能合约代码和存储等信息。

* **执行层的运作机制：**
      * **接收交易：** 用户发起交易，交易被广播到以太坊网络，并被节点接收到交易池中。
      * **打包交易：** 验证者从交易池中选择交易，打包成区块，并将区块提议给网络。
      * **验证交易：** 验证者验证交易的有效性，包括检查签名、账户余额等。
      * **执行交易：** 通过EVM执行交易，更新状态数据库中的相关信息。
      * **添加区块：** 验证者将验证通过的区块添加到区块链中，完成交易的确认。


* **区块验证**  共识层（CL）通过 `process_execution_payload` 函数验证区块的有效性，并将执行负载发送给执行层（EL）进行进一步验证。执行层通过状态转换函数（STF）执行区块交易，并更新 `StateDB`。验证过程包括检查区块头信息（如 gas 限制变化、EIP-1559 基础费用等）和执行交易。如果交易无效，则整个区块被拒绝。  

* **区块构建**  建区块的过程涉及从交易池（tx pool）获取最高收益的交易，并依次执行直到达到 gas 限制。过程中，若某笔交易无效，会跳过该交易继续执行剩余交易。最终，`Finalize` 函数将所有交易整理成完整区块并返回。交易池按交易费用优先级排序，保证构建者最大化收益。  

* **进一步探讨 STF、EVM 和 P2P 协议**  状态转换函数（STF）在 Geth 中的实现涉及 `newPayload`、`insertBlockWithoutSetHead` 等函数，它们执行区块并持久化区块状态。EVM 运行基于栈机，指令包括算术、位运算、环境信息、控制流、内存等。P2P 协议（devp2p）用于获取历史数据、同步待处理交易，并通过 Snap 同步机制高效获取链上状态，确保数据完整性和正确性。



### 2025.03.14
#### 4th  测试与安全
* **EVM测试**
  * **目的** 确保每个执行客户端（Execution Client）都符合以太坊规范，否则可能导致链的分叉。
      * 以太坊执行层规范（Ethereum Execution Layer Specification）来源：`https://github.com/ethereum/execution-spec-tests`
  * **测试要素**
      * **Pre-state（前置状态）**：描述以太坊链的状态，包括账户余额、nonce、代码和存储。
      * **Environment（环境变量）**：定义区块链状态，如时间戳、前区块哈希值、gas 限制等。
      * **Transaction（交易）**：测试区块链交互，涉及账户信息、交易金额、gas 限制等。
      * **Post-state（后置状态）**：修改或创建账户的最终状态。    
 * **EVM 测试格式**
      * **State Testing（状态测试）**：使用 state root（状态根） 进行验证。
      * **预期结果**：相同的输入应返回相同的 state root
      * **Fuzzy Differential State Testing（模糊差分测试)**：在基础交易上添加 FuzzyVM 生成的智能合约代码，检查所有客户端是否仍能返回相同的 state root。
      * **Blockchain Testing（区块链测试）**：需要完整区块测试（如 EIP-1559 基础费用计算）。
      * **Blockchain Negative Testing（区块链负面测试）**：向区块链添加无效区块，验证客户端是否能正确拒绝，并回溯到正确区块。

* **主要测试网络**

| **测试网**  | **状态** | **共识机制** | **用途** | **启动时间** | **RPC 端点** |
|------------|---------|-------------|----------|--------------|--------------|
| **Sepolia** | ✅ 运行中 | 权益证明（PoS） | **推荐** dApp & 合约测试 | 2021 年 10 月  | `https://ethereum-sepolia.publicnode.com` |
| **Holesky** | ✅ 运行中 | 权益证明（PoS） | **推荐** 验证者、Staking & 共识测试 | 2023 年 9 月 | `https://ethereum-holesky.publicnode.com` |  


### 2025.03.15
#### 5th -又见路线图
**以太坊发展路线图**

以太坊的路线图旨在提升网络的可扩展性、安全性和可持续性，主要包括以下阶段：

1. **合并（The Merge）**：已完成的阶段，将以太坊从工作量证明（PoW）转向权益证明（PoS），提高了网络的能源效率和安全性。

2. **涌现（The Surge）**：目标是通过引入分片技术和改进的Rollup方案，将交易处理能力提升至每秒10万笔以上。

3. **清除（The Purge）**：旨在减少历史数据和技术债务，简化协议，降低节点存储需求，提升网络性能。

4. **飞跃（The Splurge）**：包括各种小的升级和优化，以确保网络的稳定性和性能。

这些阶段并非线性推进，许多改进是并行进行的，具体实施时间可能会根据研究和开发的进展而调整。

**活跃的以太坊研究领域**

以太坊社区积极参与多个研究领域，以持续改进网络功能和性能，主要包括：

1. **共识机制研究**：关注以太坊的权益证明机制，包括识别和修补漏洞、量化加密经济安全性、提高客户端实现的安全性或性能，以及开发轻客户端等。

2. **执行层研究**：涉及交易执行、以太坊虚拟机（EVM）运行和生成执行有效负载等领域。研究内容包括构建轻客户端支持、研究Gas限制以及引入新数据结构（如Verkle树）等。

3. **客户端开发**：将协议研究成果应用于以太坊客户端的开发，包括更新客户端规范和构建具体实现。

4. **零知识证明和加密技术**：零知识证明（ZKP）和加密技术对于构建以太坊及其应用程序的隐私性和安全性至关重要。零知识是一个相对年轻但发展迅速的领域，存在许多开放的研究和开发机会。 citeturn0search1

**Blobspace与数据可用性** 为解决可扩展性问题，以太坊引入了Blobspace的概念，特别是在EIP-4844（Proto-Danksharding）中。Blobspace旨在降低Rollup方案提交数据的成本，从而提高网络的整体可扩展性。 

**以太坊的最终目标** Vitalik Buterin在《Endgame》一文中探讨了高交易吞吐量区块链的去中心化和抗审查性问题，提出了通过分层质押、引入欺诈证明或零知识证明、数据可用性采样以及次级交易通道等方式，确保即使在高交易量的情况下，区块验证仍然是信任最小化和高度去中心化的，同时防止区块生产者进行审查。 

 

### 2025.03.16
#### 6th-spec 规范

* **以太坊共识规范（consensus-specs）**
  * **具体内容**：
      - **共识机制**：详细描述了以太坊权益证明（Proof-of-Stake, PoS）共识机制的规则和协议。
      - **信标链规范**：定义了信标链的结构、状态转换函数、验证规则等。
      - **验证者操作**：规定了验证者的职责、激励和惩罚机制，以及验证者的生命周期管理。
      - **同步协议**：描述了节点之间如何同步区块和状态，以保持网络一致性。
  * **关键要点**：
      - **PoS共识机制**：通过质押以太币，验证者被选中提议和验证区块，取代了工作量证明（PoW）机制。
      - **信标链**：作为以太坊2.0的核心链，协调分片链的共识和跨链通信。
      - **验证者激励**：通过奖励和惩罚机制，确保验证者的诚实行为，维护网络安全性。
  * **规范的意义**：
      - **标准化**：提供了统一的共识协议规范，确保不同客户端实现的一致性。
      - **安全性**：通过明确的规则和验证者管理，增强网络的安全性和可靠性。
      - **可扩展性**：为未来的网络升级和功能扩展奠定基础。

* **以太坊执行层规范（EEL-spec）**
  * **具体内容**：
      - **交易处理**：定义了交易的格式、验证规则和执行逻辑。
      - **智能合约执行**：描述了EVM（以太坊虚拟机）的操作码、执行环境和合约调用机制。
      - **状态管理**：规定了账户模型、存储结构和状态转换函数。
      - **Gas机制**：解释了交易和合约执行的费用计算和Gas限制。
  * **关键要点**：
      - **EVM**：作为以太坊的核心执行环境，负责智能合约的部署和执行。
      - **账户模型**：以太坊采用账户余额和合约存储的状态管理方式。
      - **Gas机制**：通过费用机制，防止资源滥用，确保网络的健康运行。
  * **规范的意义**：
      - **一致性**：确保不同客户端在交易处理和合约执行上的行为一致。
      - **安全性**：通过明确的执行规则，防范潜在的攻击和漏洞。
      - **开发指导**：为客户端开发者和智能合约开发者提供清晰的参考。

* **以太坊执行规范（execution-specs）**
  * **具体内容**：
      - **网络升级**：记录并规范了以太坊各次网络升级（硬分叉）的具体内容和技术细节。
      - **协议变更**：详细描述了每次升级中协议的修改，包括共识规则、EVM改进等。
      - **升级流程**：定义了网络升级的提案、测试和部署流程。
  * **关键要点**：
      - **网络升级**：以太坊通过定期的硬分叉，引入新功能和改进，提升网络性能和安全性。
      - **协议变更**：每次升级都会对协议进行调整，可能涉及Gas成本、操作码行为等方面。
      - **社区协作**：网络升级需要开发者、矿工和用户的共同参与和协作。
  * **规范的意义**：
      - **透明性**：清晰记录协议的演进过程，增强社区信任。
      - **指导性**：为客户端和dApp开发者提供升级参考，确保兼容性。
      - **安全性**：通过规范的升级流程，减少潜在的分叉和网络分裂风险。


### 2025.03.17



<!-- Content_END -->
